<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>AUDIO STUDIO PRO</title>
    <style>
        :root { 
            --gold: linear-gradient(135deg, #d4af37 0%, #f1c40f 50%, #b8860b 100%);
            --bg: #fdfaf2; --accent: #b8860b;
        }

        body { font-family: 'Segoe UI', sans-serif; margin: 0; background: var(--bg); display: flex; height: 100vh; overflow: hidden; width: 100vw; }

        /* SIDEBAR */
        .sidebar { width: 320px; background: white; padding: 25px; border-right: 2px solid #f1c40f; flex-shrink: 0; overflow-y: auto; z-index: 100; box-shadow: 5px 0 15px rgba(0,0,0,0.05); }
        .logo-box { text-align: center; margin-bottom: 25px; cursor: pointer; }
        .logo-img { width: 100px; height: 100px; border-radius: 50%; border: 4px solid #d4af37; box-shadow: 0 5px 15px rgba(212,175,55,0.3); }

        /* PLAYER ZONE */
        .player-zone { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 30px; min-width: 400px; position: relative; transition: all 0.1s ease; }
        .cover { 
            width: 90%; max-width: 550px; aspect-ratio: 16/9; border-radius: 30px; 
            background: white; border: 10px solid white; box-shadow: 0 20px 50px rgba(184,134,11,0.15);
            display: flex; align-items: center; justify-content: center; font-size: 5rem; color: #d4af37; margin-bottom: 20px;
            background-size: cover; background-position: center;
        }

        /* CONTROLS */
        #prog { width: 90%; max-width: 550px; accent-color: var(--accent); height: 10px; cursor: pointer; }
        .time { font-weight: 900; font-size: 2rem; margin: 15px 0; color: #333; font-variant-numeric: tabular-nums; }
        .controls { display: flex; gap: 35px; align-items: center; margin-bottom: 30px; }
        .play-btn { width: 100px; height: 100px; border-radius: 50%; background: var(--gold); color: white; border: none; font-size: 3rem; cursor: pointer; box-shadow: 0 10px 20px rgba(212,175,55,0.4); }
        .nav-btn { background: none; border: none; font-size: 2.8rem; cursor: pointer; color: #444; }

        /* –£–ú–ù–ê–Ø –®–¢–û–†–ö–ê (–ò–°–ü–†–ê–í–õ–ï–ù–û) */
        .dict-panel { 
            width: 0px; /* –ò–∑–Ω–∞—á–∞–ª—å–Ω–æ –∑–∞–∫—Ä—ã—Ç–∞ */
            background: white; 
            border-left: 0px solid #d4af37; 
            display: flex; 
            position: relative; 
            flex-shrink: 0; 
            z-index: 50;
            transition: border-left 0.2s;
        }
        .resizer { 
            width: 40px; /* –£–≤–µ–ª–∏—á–µ–Ω–Ω–∞—è –∑–æ–Ω–∞ –∑–∞—Ö–≤–∞—Ç–∞ */
            cursor: col-resize; 
            position: absolute; 
            left: -20px; 
            top: 0; 
            bottom: 0; 
            z-index: 200; 
            background: rgba(212, 175, 55, 0.05); /* –õ–µ–≥–∫–∞—è –ø–æ–¥—Å–≤–µ—Ç–∫–∞ –∑–æ–Ω—ã –∑–∞—Ö–≤–∞—Ç–∞ */
        }
        .resizer:hover { background: rgba(212, 175, 55, 0.2); }
        
        iframe { width: 100%; height: 100%; border: none; }

        /* –ö–ê–†–¢–û–ß–ö–ò –ò –ü–û–õ–Ø */
        .card { background: #fff; padding: 15px; border-radius: 20px; border: 1px solid #eee; margin-bottom: 12px; position: relative; }
        .input-row { display: flex; align-items: center; gap: 5px; margin-top: 5px; }
        input, select { width: 100%; padding: 10px; border-radius: 10px; border: 1.5px solid #ddd; outline: none; }
        label { font-size: 0.65rem; font-weight: 900; color: var(--accent); text-transform: uppercase; }
        .x { color: #e74c3c; background: none; border: none; font-weight: bold; cursor: pointer; font-size: 1.2rem; }
        
        .slow-mode { background: #2ecc71; color: white; border: none; padding: 14px; border-radius: 14px; font-weight: 800; cursor: pointer; width: 100%; margin: 15px 0; }
        .slow-mode.active { background: #e67e22; }

        #test-lock { display: none; position: absolute; top:0; left:0; width: 100%; height: 100%; background: rgba(0,0,0,0.95); z-index: 1000; color: white; flex-direction: column; align-items: center; justify-content: center; border-radius: 30px; }
    </style>
</head>
<body>

<div class="sidebar">
    <div class="logo-box">
        <a href="https://t.me/DI_von_Irina" target="_blank"><img src="https://irinschensmagen-alt.github.io/Audioplayer-Studio-Pro/logo.png" class="logo-img"></a>
        <h2 style="color:var(--accent); font-weight:900;">AUDIO STUDIO PRO</h2>
    </div>

    <label id="l-lang">LANGUAGE / SPRACHE</label>
    <select id="langSelect" onchange="translate()">
        <option value="de">Deutsch</option>
        <option value="ru">–†—É—Å—Å–∫–∏–π</option>
        <option value="it">Italiano</option>
        <option value="fr">Fran√ßais</option>
        <option value="es">Espa√±ol</option>
        <option value="en">English</option>
        </select>

    <label id="l-mode" style="margin-top:15px; display:block;">MODE / MODUS</label>
    <select id="modeSelect" onchange="setMode()">
        <option value="study" id="opt-study">Study (–£—á–µ–Ω–∏–∫)</option>
        <option value="master" id="opt-master">Master (Loop)</option>
        <option value="test" id="opt-test">Test (Exam)</option>
    </select>

    <button id="slowBtn" class="slow-mode" onclick="tempo()">üê¢ <span id="l-slow">LANGSAM 0.8x</span></button>

    <div class="card">
        <label id="l-pdf">PDF LADEN</label>
        <div class="input-row"><input type="file" id="f-pdf" accept=".pdf"><button class="x" onclick="cls('f-pdf','pdf')">‚úñ</button></div>
    </div>
    <div class="card">
        <label id="l-dict">W√ñRTERBUCH URL</label>
        <div class="input-row"><input type="text" id="u-dict" oninput="loadD(this.value)"><button class="x" onclick="cls('u-dict','pdf')">‚úñ</button></div>
    </div>
</div>

<div class="player-zone">
    <div id="test-lock"><h1 id="l-timeup">ZEIT IST UM</h1><button onclick="location.reload()" style="padding:10px 20px; cursor:pointer; border-radius:10px; border:none; background:var(--gold); color:white; font-weight:bold;">RESTART</button></div>
    <div id="status" style="color:var(--accent); font-weight:bold; letter-spacing:3px; margin-bottom:15px;">BEREIT</div>
    <div class="cover" id="cover">üéµ</div>
    
    <input type="range" id="prog" value="0" step="0.1">
    <div class="time" id="time-txt">00:00 / 00:00</div>

    <div class="controls">
        <button class="nav-btn" id="btn-back" onclick="audio.currentTime-=10">‚è™</button>
        <button class="play-btn" id="play-btn" onclick="toggle()">‚ñ∂</button>
        <button class="nav-btn" id="btn-next" onclick="audio.currentTime+=10">‚è©</button>
    </div>

    <div style="display:grid; grid-template-columns: 1fr 1fr; gap:15px; width:100%; max-width:750px;">
        <div class="card"><label id="l-al">AUDIO LINK</label><div class="input-row"><input type="text" id="u-aud" oninput="audio.src=this.value"><button class="x" onclick="cls('u-aud','aud')">‚úñ</button></div></div>
        <div class="card"><label id="l-il">BILD LINK</label><div class="input-row"><input type="text" id="u-img" oninput="setI(this.value)"><button class="x" onclick="cls('u-img','img')">‚úñ</button></div></div>
    </div>
</div>

<div class="dict-panel" id="dict-panel">
    <div class="resizer" id="resizer" title="–¢—è–Ω–∏—Ç–µ –≤–ª–µ–≤–æ, —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å, –∏–ª–∏ –≤–ø—Ä–∞–≤–æ –¥–æ –∫–æ–Ω—Ü–∞, —á—Ç–æ–±—ã –∑–∞–∫—Ä—ã—Ç—å"></div>
    <iframe id="frame"></iframe>
</div>

<script>
    const audio = new Audio(); audio.preservesPitch = true;
    const db = {
        de: { slow: "LANGSAM 0.8x", pdf: "PDF LADEN", dict: "W√ñRTERBUCH URL", al: "AUDIO LINK", il: "BILD LINK", ready: "BEREIT", play: "SPIELT", pause: "PAUSE", study: "Lernen", master: "Master", test: "Test", up: "ZEIT IST UM" },
        ru: { slow: "–ó–ê–ú–ï–î–õ–ï–ù–ò–ï 0.8x", pdf: "–ó–ê–ì–†–£–ó–ò–¢–¨ PDF", dict: "–°–õ–û–í–ê–†–¨ URL", al: "–ê–£–î–ò–û –°–°–´–õ–ö–ê", il: "–§–û–¢–û –°–°–´–õ–ö–ê", ready: "–ì–û–¢–û–í", play: "–ò–ì–†–ê–ï–¢", pause: "–ü–ê–£–ó–ê", study: "–£—á–µ–Ω–∏–∫", master: "–ú–∞—Å—Ç–µ—Ä", test: "–¢–µ—Å—Ç", up: "–í–†–ï–ú–Ø –í–´–®–õ–û" },
        it: { slow: "RALLENTA 0.8x", pdf: "CARICA PDF", dict: "URL DIZIONARIO", al: "LINK AUDIO", il: "LINK IMMAGINE", ready: "PRONTO", play: "PLAY", pause: "PAUSA", study: "Studio", master: "Master", test: "Test", up: "TEMPO SCADUTO" }
    };

    function translate() {
        const l = document.getElementById('langSelect').value;
        const t = db[l] || db.ru;
        document.getElementById('l-slow').innerText = t.slow;
        document.getElementById('l-pdf').innerText = t.pdf;
        document.getElementById('l-dict').innerText = t.dict;
        document.getElementById('l-al').innerText = t.al;
        document.getElementById('l-il').innerText = t.il;
        document.getElementById('opt-study').innerText = t.study;
        document.getElementById('opt-master').innerText = t.master;
        document.getElementById('opt-test').innerText = t.test;
        document.getElementById('l-timeup').innerText = t.up;
        if(audio.paused) document.getElementById('status').innerText = t.ready;
    }

    // –ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ô –†–ï–°–ê–ô–ó–ï–† (–ú–ê–ì–ù–ò–¢–ù–´–ô)
    const p = document.getElementById('dict-panel');
    const r = document.getElementById('resizer');
    let isR = false;

    r.addEventListener('mousedown', () => isR = true);
    document.addEventListener('mouseup', () => isR = false);
    document.addEventListener('mousemove', (e) => {
        if(!isR) return;
        let w = window.innerWidth - e.clientX;
        
        // –ú–∞–≥–Ω–∏—Ç–Ω–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ: –µ—Å–ª–∏ —à–∏—Ä–∏–Ω–∞ –º–µ–Ω—å—à–µ 50px, —à—Ç–æ—Ä–∫–∞ —Å—Ö–ª–æ–ø—ã–≤–∞–µ—Ç—Å—è
        if(w < 50) {
            p.style.width = '0px';
            p.style.borderLeft = "0px solid transparent";
        } else if(w < window.innerWidth * 0.85) {
            p.style.width = w + 'px';
            p.style.borderLeft = "10px solid #d4af37";
        }
    });

    function toggle() { audio.paused ? audio.play() : audio.pause(); }
    function tempo() { audio.playbackRate = (audio.playbackRate === 1) ? 0.8 : 1; document.getElementById('slowBtn').classList.toggle('active', audio.playbackRate === 0.8); }
    function setI(u) { document.getElementById('cover').style.backgroundImage = u ? `url(${u})` : 'none'; document.getElementById('cover').innerText = u ? '' : 'üéµ'; }
    function loadD(u) { if(u.trim()) { document.getElementById('frame').src = u; p.style.width = '500px'; p.style.borderLeft = "10px solid #d4af37"; } }
    function cls(id, type) { 
        document.getElementById(id).value = ''; 
        if(type==='aud') audio.src=''; if(type==='img') setI(''); if(type==='pdf') { document.getElementById('frame').src='about:blank'; p.style.width='0px'; p.style.borderLeft='0px'; }
    }

    document.getElementById('f-pdf').onchange = (e) => { 
        if(e.target.files[0]) { 
            document.getElementById('frame').src = URL.createObjectURL(e.target.files[0]) + "#view=FitH"; 
            p.style.width = '500px'; 
            p.style.borderLeft = "10px solid #d4af37"; 
        }
    };

    audio.ontimeupdate = () => {
        const pr = document.getElementById('prog'); pr.max = audio.duration || 0; pr.value = audio.currentTime;
        const f = s => new Date(s * 1000).toISOString().substr(14, 5);
        document.getElementById('time-txt').innerText = `${f(audio.currentTime)} / ${f(audio.duration || 0)}`;
    };

    audio.onplay = () => { document.getElementById('play-btn').innerText = '‚è∏'; document.getElementById('status').innerText = (db[document.getElementById('langSelect').value] || db.ru).play; };
    audio.onpause = () => { document.getElementById('play-btn').innerText = '‚ñ∂'; document.getElementById('status').innerText = (db[document.getElementById('langSelect').value] || db.ru).pause; };

    function setMode() {
        const m = document.getElementById('modeSelect').value;
        audio.loop = (m === 'master');
        const isT = (m === 'test');
        document.getElementById('btn-back').style.display = isT ? 'none' : 'block';
        document.getElementById('btn-next').style.display = isT ? 'none' : 'block';
        if(isT) setTimeout(() => { if(document.getElementById('modeSelect').value === 'test') { audio.pause(); document.getElementById('test-lock').style.display = 'flex'; } }, 120000);
    }

    translate();
</script>
</body>
</html>
