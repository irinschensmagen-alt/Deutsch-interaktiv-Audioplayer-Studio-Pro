<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AUDIO STUDIO PRO | GOLDEN CHAMELEON</title>
    <style>
        :root { 
            --gold-gradient: linear-gradient(135deg, #d4af37 0%, #f1c40f 50%, #b8860b 100%);
            /* –ù–µ–∂–Ω–µ–π—à–∏–π —Ö–∞–º–µ–ª–µ–æ–Ω */
            --chameleon-soft: radial-gradient(circle at center, #7fdad1 0%, #63a4d8 60%, #4a74a5 100%);
            --sky-light: #f0faff;
            --accent-gold: #b8860b;
            --border-gold: #d4af37;
            --blue-ui: #0070c0; 
        }
        
        body { font-family: 'Segoe UI', sans-serif; margin: 0; background: var(--sky-light); display: flex; height: 100vh; overflow: hidden; }

        /* SIDEBAR */
        .sidebar { width: 330px; background: var(--sky-light); padding: 25px; border-right: 3px solid var(--border-gold); flex-shrink: 0; overflow-y: auto; z-index: 1000; }
        .logo-box { text-align: center; margin-bottom: 30px; }
        .logo-link { display: inline-block; transition: transform 0.2s; }
        .logo-link:hover { transform: scale(1.05); }
        .logo-img { width: 100px; height: 100px; border-radius: 50%; border: 3px solid var(--border-gold); cursor: pointer; }
        .app-title { color: var(--accent-gold); font-weight: 900; font-size: 1.2rem; margin-top: 15px; text-transform: uppercase; }

        /* PLAYER AREA */
        .player-zone { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 40px; position: relative; background: var(--chameleon-soft); }
        
        /* –ó–û–õ–û–¢–ê–Ø –†–ê–ú–ö–ê –î–õ–Ø –û–ë–õ–û–ñ–ö–ò */
        .cover { width: 90%; max-width: 550px; aspect-ratio: 16/9; border-radius: 30px; background: white; border: 4px solid var(--border-gold); box-shadow: 0 15px 40px rgba(0,0,0,0.15); display: flex; align-items: center; justify-content: center; font-size: 8rem; margin-bottom: 30px; background-size: cover; background-position: center; }
        .gold-icon { background: var(--gold-gradient); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }

        .time { font-weight: 900; font-size: 1.25rem; margin: 20px 0; color: white; text-shadow: 0 1px 5px rgba(0,0,0,0.2); font-variant-numeric: tabular-nums; }
        
        #prog { width: 90%; max-width: 550px; accent-color: #f1c40f; cursor: pointer; height: 6px; }
        .play-btn { width: 90px; height: 90px; border-radius: 50%; background: var(--gold-gradient); color: white; border: none; font-size: 2.5rem; cursor: pointer; display: flex; align-items: center; justify-content: center; box-shadow: 0 8px 20px rgba(0,0,0,0.2); }
        .nav-btn { background: none; border: none; color: white; font-size: 2.8rem; cursor: pointer; display: flex; align-items: center; justify-content: center; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.2)); }

        .slow-btn { background: var(--blue-ui); color: white; border: none; padding: 14px; border-radius: 12px; font-weight: 900; cursor: pointer; width: 100%; margin: 10px 0; text-transform: uppercase; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
        .slow-btn.active { background: #e67e22; }

        /* –ó–û–õ–û–¢–´–ï –†–ê–ú–ö–ò –î–õ–Ø –ö–ê–†–¢–û–ß–ï–ö */
        .grid-container { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; width: 95%; max-width: 850px; }
        .card { background: #fff; padding: 15px; border-radius: 18px; border: 2px solid var(--border-gold); margin-bottom: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.08); }
        label { font-size: 0.75rem; font-weight: 900; color: var(--accent-gold); text-transform: uppercase; margin-bottom: 8px; display: block; }
        
        .input-row { display: flex; align-items: center; gap: 10px; background: #f8fdff; padding: 8px 12px; border-radius: 10px; margin-top: 8px; height: 35px; border: 1px solid #e0f2f7; }
        input { border: none; background: transparent; width: 100%; outline: none; font-size: 0.85rem; color: #333; }
        
        .file-wrapper { position: relative; width: 100%; height: 100%; display: flex; align-items: center; overflow: hidden; }
        .file-wrapper input[type="file"] { position: absolute; left: 0; top: 0; opacity: 0; width: 100%; height: 100%; cursor: pointer; }
        .file-label { font-size: 0.8rem; color: #777; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

        .x-btn { color: #ff5e5e; border: none; background: none; font-weight: bold; cursor: pointer; font-size: 1.1rem; padding: 0; opacity: 0.7; transition: opacity 0.2s; }
        .x-btn:hover { opacity: 1; }

        /* DICT PANEL */
        .dict-panel { width: 0px; background: white; border-left: 0px solid var(--border-gold); display: flex; position: relative; transition: width 0.4s ease; }
        .resizer { width: 30px; cursor: pointer; position: absolute; left: -15px; top: 0; bottom: 0; z-index: 9999; display: flex; align-items: center; justify-content: center; }
        .resizer::after { content: '‚óÄ‚ñ∂'; color: var(--accent-gold); font-size: 12px; font-weight: bold; background: white; border: 1px solid var(--border-gold); border-radius: 5px; padding: 2px; }
        iframe { width: 100%; height: 100%; border: none; }
    </style>
</head>
<body>

<div class="sidebar">
    <div class="logo-box">
        <a href="https://t.me/+P6O260Y7YmZkMDdi" target="_blank" class="logo-link">
            <img src="https://irinschensmagen-alt.github.io/Audioplayer-Studio-Pro/logo.png" class="logo-img">
        </a>
        <div class="app-title">Audio Studio Pro</div>
    </div>

    <label id="l-lang">LANGUAGE</label>
    <div class="card"><select id="langSelect" onchange="translateUI()" style="width:100%; border:none; outline:none; background:transparent; font-weight: 600;"></select></div>

    <label id="l-mode">MODE</label>
    <div class="card">
        <select id="modeSelect" onchange="setMode()" style="width:100%; border:none; outline:none; background:transparent; font-weight: 600;">
            <option value="study" id="opt-study"></option>
            <option value="master" id="opt-master"></option>
            <option value="test" id="opt-test"></option>
        </select>
    </div>

    <button id="slowBtn" class="slow-btn" onclick="toggleSlow()">üê¢ <span id="l-slow"></span></button>

    <div class="card">
        <label id="l-materials">MATERIALS</label>
        <div class="input-row">
            <div class="file-wrapper"><input type="file" id="f-univ" onchange="updateFileName(this)"><span class="file-label" id="f-univ-btn"></span></div>
            <button class="x-btn" onclick="clearF('f-univ','pdf')">‚úñ</button>
        </div>
        <div class="input-row">
            <input type="text" id="u-dict" oninput="loadD(this.value)">
            <button class="x-btn" onclick="clearF('u-dict','pdf')">‚úñ</button>
        </div>
    </div>
</div>

<div class="player-zone">
    <div class="cover" id="cover"><span class="gold-icon">‚ô´</span></div>
    <input type="range" id="prog" value="0" step="0.1" oninput="manualSeek(this.value)">
    <div class="time" id="time-display">00:00 / 00:00</div>
    <div style="display:flex; align-items:center; gap:50px; margin-bottom:30px;">
        <button class="nav-btn" onclick="rewind(-10)">‚è™</button>
        <button class="play-btn" id="play-btn" onclick="togglePlay()">‚ñ∂</button>
        <button class="nav-btn" onclick="rewind(10)">‚è©</button>
    </div>

    <div class="grid-container">
        <div class="card">
            <label id="l-al">AUDIO</label>
            <div class="input-row">
                <input type="text" id="u-aud" oninput="audio.src=this.value">
                <button class="x-btn" onclick="clearF('u-aud','aud')">‚úñ</button>
            </div>
            <div class="input-row">
                <div class="file-wrapper"><input type="file" id="f-aud" accept="audio/*" onchange="updateFileName(this)"><span class="file-label" id="f-aud-btn"></span></div>
                <button class="x-btn" onclick="clearF('f-aud','aud')">‚úñ</button>
            </div>
        </div>
        <div class="card">
            <label id="l-il">IMAGE</label>
            <div class="input-row">
                <input type="text" id="u-img" oninput="setI(this.value)">
                <button class="x-btn" onclick="clearF('u-img','img')">‚úñ</button>
            </div>
            <div class="input-row">
                <div class="file-wrapper"><input type="file" id="f-img" accept="image/*" onchange="updateFileName(this)"><span class="file-label" id="f-img-btn"></span></div>
                <button class="x-btn" onclick="clearF('f-img','img')">‚úñ</button>
            </div>
        </div>
    </div>
</div>

<div class="dict-panel" id="dict-panel">
    <div class="resizer" id="resizer"></div>
    <iframe id="frame"></iframe>
</div>

<script>
    const audio = new Audio(); audio.preservesPitch = true;
    const langs = {
        de: { name: "Deutsch", lang: "SPRACHE", mode: "MODUS", slow: "LANGSAM 0.8x", materials: "MATERIALIEN", al: "AUDIO", il: "BILD", study: "Lernen", master: "Master", test: "Test", link: "Link", dict: "W√∂rterbuch URL", select: "üìÅ Datei w√§hlen" },
        ru: { name: "–†—É—Å—Å–∫–∏–π", lang: "–Ø–ó–´–ö", mode: "–†–ï–ñ–ò–ú", slow: "–ó–ê–ú–ï–î–õ–ï–ù–ò–ï 0.8x", materials: "–ú–ê–¢–ï–†–ò–ê–õ–´", al: "–ê–£–î–ò–û", il: "–§–û–¢–û", study: "–£—á–µ–Ω–∏–∫", master: "–ú–∞—Å—Ç–µ—Ä", test: "–¢–µ—Å—Ç", link: "–°—Å—ã–ª–∫–∞", dict: "–°–ª–æ–≤–∞—Ä—å URL", select: "üìÅ –í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª" },
        en: { name: "English", lang: "LANGUAGE", mode: "MODE", slow: "SLOW MOTION 0.8x", materials: "MATERIALS", al: "AUDIO", il: "IMAGE", study: "Study", master: "Master", test: "Test", link: "Link", dict: "Dictionary URL", select: "üìÅ Choose file" },
        fr: { name: "Fran√ßais", lang: "LANGUE", mode: "MODE", slow: "LENT 0.8x", materials: "MAT√âRIELS", al: "AUDIO", il: "IMAGE", study: "√âtude", master: "Ma√Ætre", test: "Test", link: "Lien", dict: "URL dictionnaire", select: "üìÅ Choisir" },
        es: { name: "Espa√±ol", lang: "IDIOMA", mode: "MODO", slow: "LENTO 0.8x", materials: "MATERIALES", al: "AUDIO", il: "IMAGEN", study: "Estudio", master: "Maestro", test: "Prueba", link: "Enlace", dict: "URL diccionario", select: "üìÅ Seleccionar" },
        it: { name: "Italiano", lang: "LINGUA", mode: "MODALIT√Ä", slow: "LENTO 0.8x", materials: "MATERIALI", al: "AUDIO", il: "IMMAGINE", study: "Studio", master: "Master", test: "Test", link: "Link", dict: "URL dizionario", select: "üìÅ Scegli" }
    };

    const sel = document.getElementById('langSelect');
    Object.keys(langs).forEach(k => sel.add(new Option(langs[k].name, k)));
    sel.value = 'de'; // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –Ω–µ–º–µ—Ü–∫–∏–π, –∫–∞–∫ –Ω–∞ —Å–∫—Ä–∏–Ω–µ

    function translateUI() {
        const t = langs[sel.value] || langs['de'];
        ['lang','mode','slow','materials','al','il'].forEach(id => document.getElementById('l-'+id).innerText = t[id]);
        ['study','master','test'].forEach(m => document.getElementById('opt-'+m).innerText = t[m]);
        document.getElementById('u-aud').placeholder = t.link;
        document.getElementById('u-img').placeholder = t.link;
        document.getElementById('u-dict').placeholder = t.dict;
        ['f-univ-btn', 'f-aud-btn', 'f-img-btn'].forEach(id => {
            const el = document.getElementById(id);
            if (!el.hasAttribute('data-active')) el.innerText = t.select;
        });
    }

    function updateFileName(input) {
        const btn = document.getElementById(input.id + '-btn');
        if (input.files.length > 0) {
            btn.innerText = "üìÑ " + input.files[0].name;
            btn.setAttribute('data-active', 'true');
            btn.style.color = "#b8860b";
            const url = URL.createObjectURL(input.files[0]);
            if(input.id === 'f-univ') { document.getElementById('frame').src = url; openPanel(600); }
            if(input.id === 'f-aud') audio.src = url;
            if(input.id === 'f-img') setI(url);
        }
    }

    function clearF(id, type) { 
        const input = document.getElementById(id);
        input.value = '';
        if(id.startsWith('f-')) {
            const btn = document.getElementById(id + '-btn');
            btn.removeAttribute('data-active');
            btn.innerText = langs[sel.value].select;
            btn.style.color = "#777";
        }
        if(type==='aud') { audio.pause(); audio.src = ''; document.getElementById('u-aud').value = ''; }
        if(type==='img') { setI(''); document.getElementById('u-img').value = ''; }
        if(type==='pdf') { document.getElementById('frame').src = 'about:blank'; document.getElementById('u-dict').value = ''; closePanel(); }
    }

    const p = document.getElementById('dict-panel'), r = document.getElementById('resizer');
    let isDragging = false;
    r.addEventListener('mousedown', () => { isDragging = true; p.style.transition = 'none'; });
    r.addEventListener('click', () => { parseInt(getComputedStyle(p).width) > 0 ? closePanel() : openPanel(600); });
    document.addEventListener('mouseup', () => isDragging = false);
    document.addEventListener('mousemove', (e) => { if (!isDragging) return; let w = window.innerWidth - e.clientX; if (w > 50) p.style.width = w + 'px'; p.style.borderLeft = '3px solid var(--border-gold)'; });

    function openPanel(w) { p.style.transition = 'width 0.4s ease'; p.style.width = w + 'px'; p.style.borderLeft = '3px solid var(--border-gold)'; }
    function closePanel() { p.style.transition = 'width 0.4s ease'; p.style.width = '0px'; p.style.borderLeft = '0px'; }

    function togglePlay() { if(audio.src) audio.paused ? audio.play() : audio.pause(); }
    function rewind(v) { if(document.getElementById('modeSelect').value !== 'test') audio.currentTime += v; }
    function manualSeek(v) { if(document.getElementById('modeSelect').value !== 'test') audio.currentTime = v; }
    function toggleSlow() { audio.playbackRate = (audio.playbackRate === 1 ? 0.8 : 1); document.getElementById('slowBtn').classList.toggle('active', audio.playbackRate === 0.8); }
    function setI(u) { const c = document.getElementById('cover'); c.style.backgroundImage = u ? `url(${u})` : 'none'; c.innerHTML = u ? '' : '<span class="gold-icon">‚ô´</span>'; }
    function loadD(u) { if(u) { document.getElementById('frame').src = u; openPanel(600); } }

    audio.ontimeupdate = () => {
        const pr = document.getElementById('prog'); pr.max = audio.duration || 0; pr.value = audio.currentTime;
        const f = s => new Date(s * 1000).toISOString().substr(14, 5);
        document.getElementById('time-display').innerText = `${f(audio.currentTime)} / ${f(audio.duration || 0)}`;
    };
    audio.onplay = () => document.getElementById('play-btn').innerText = '‚è∏';
    audio.onpause = () => document.getElementById('play-btn').innerText = '‚ñ∂';
    function setMode() { audio.loop = (document.getElementById('modeSelect').value === 'master'); }
    
    translateUI();
</script>
</body>
</html>
